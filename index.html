<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<style>
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: #f4f4f4; padding: 20px; }
    .calculator-container { background: white; max-width: 600px; margin: 0 auto; padding: 30px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    h2 { text-align: center; color: #333; }
    .input-group { margin-bottom: 15px; display: flex; justify-content: space-between; align-items: center; }
    .input-group label { flex: 1; font-weight: 500; color: #555; }
    .input-group input { width: 100px; padding: 8px; border: 1px solid #ddd; border-radius: 4px; text-align: right; }
    .results { margin-top: 30px; background: #eef7ff; padding: 20px; border-radius: 6px; border: 1px solid #cce5ff; }
    .result-item { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 16px; }
    .result-item.final { font-weight: bold; font-size: 20px; color: #0056b3; border-top: 1px solid #b8daff; padding-top: 10px; margin-top: 10px; }
    .note { font-size: 12px; color: #888; margin-top: 5px; }
</style>
</head>
<body>

<div class="calculator-container">
    <h2>Event Marketing Budget Calculator</h2>
    <p style="text-align:center; color:#666; font-size: 0.9em;">Based on the "Reverse Funnel" methodology</p>
    
    <div class="input-group">
        <label>Desired Attendance</label>
        <input type="number" id="attendance" value="100" oninput="calculate()">
    </div>

    <hr>
    <p style="font-weight: bold; margin-bottom: 10px;">Funnel Metrics (Edit if needed)</p>

    <div class="input-group">
        <label>Attendance Rate (Reg â†’ Show up)<br><span class="note">Default: 0.5 (50%)</span></label>
        <input type="number" id="rateVisiting" value="0.5" step="0.01" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Form Completion Rate<br><span class="note">Default: 0.7 (70%)</span></label>
        <input type="number" id="rateForm" value="0.7" step="0.01" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Website CTA Click Rate<br><span class="note">Default: 0.2 (20%)</span></label>
        <input type="number" id="rateWebsite" value="0.2" step="0.01" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Ad Click-Through Rate (CTR)<br><span class="note">Default: 0.05 (5%)</span></label>
        <input type="number" id="ctr" value="0.05" step="0.001" oninput="calculate()">
    </div>

    <div class="input-group">
        <label>Cost Per Click (CPC) ($)<br><span class="note">Average cost per click</span></label>
        <input type="number" id="cpc" value="0.20" step="0.01" oninput="calculate()">
    </div>

    <div class="results">
        <div class="result-item">
            <span>Required Registrations:</span>
            <span id="resRegistrations">0</span>
        </div>
        <div class="result-item">
            <span>Website Visitors Needed:</span>
            <span id="resVisitors">0</span>
        </div>
        <div class="result-item">
            <span>Required Ad Reach:</span>
            <span id="resReach">0</span>
        </div>
        <div class="result-item final">
            <span>Estimated Budget:</span>
            <span id="resBudget">$0</span>
        </div>
    </div>
</div>

<script>
    function calculate() {
        // Get values
        let attendance = parseFloat(document.getElementById('attendance').value) || 0;
        let rateVisiting = parseFloat(document.getElementById('rateVisiting').value) || 0;
        let rateForm = parseFloat(document.getElementById('rateForm').value) || 0;
        let rateWebsite = parseFloat(document.getElementById('rateWebsite').value) || 0;
        let ctr = parseFloat(document.getElementById('ctr').value) || 0;
        let cpc = parseFloat(document.getElementById('cpc').value) || 0;

        // Prevent division by zero
        if(rateVisiting === 0 || rateForm === 0 || rateWebsite === 0 || ctr === 0) {
            return; 
        }

        // Calculations (Reverse Funnel)
        // 1. How many registrations needed?
        let requiredRegistrations = Math.ceil(attendance / rateVisiting);

        // 2. How many form visitors needed?
        let formVisitors = Math.ceil(requiredRegistrations / rateForm);

        // 3. How many website visitors needed?
        let websiteVisitors = Math.ceil(formVisitors / rateWebsite);

        // 4. Required Reach (Impressions)
        let requiredReach = Math.ceil(websiteVisitors / ctr);

        // 5. Budget (Clicks * Cost per Click)
        // Note: Budget is based on paying for clicks (Website Visitors), not Reach.
        let budget = (websiteVisitors * cpc).toFixed(2);

        // Update DOM
        document.getElementById('resRegistrations').innerText = requiredRegistrations.toLocaleString();
        document.getElementById('resVisitors').innerText = websiteVisitors.toLocaleString();
        document.getElementById('resReach').innerText = requiredReach.toLocaleString();
        document.getElementById('resBudget').innerText = "$" + budget;
    }

    // Initial run
    calculate();
</script>

</body>
</html>
